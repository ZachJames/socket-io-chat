(this["webpackJsonpsocket-io-chat-client"]=this["webpackJsonpsocket-io-chat-client"]||[]).push([[0],{55:function(n,e,t){n.exports=t(97)},92:function(n,e){},97:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(46),c=t.n(o),u=t(26),i=t(9),l=t(12),s=t(15),f=Object(r.createContext)(),m={username:"",userColor:"#3b88eb",error:""};function b(n,e){var t=e.type,r=e.payload;switch(t){case"SET_USERNAME":return Object(s.a)({},n,{username:r});case"SET_USER_COLOR":return Object(s.a)({},n,{userColor:r});case"SET_ERROR":return Object(s.a)({},n,{error:r});case"CLEAR_ERROR":return Object(s.a)({},n,{error:""});default:throw new Error("Unhandled action type: ".concat(t))}}function d(n){var e=n.children,t=Object(r.useReducer)(b,m),o=Object(l.a)(t,2),c=o[0],u=o[1];return a.a.createElement(f.Provider,{value:{state:c,dispatch:u}},e)}function p(){var n=Object(r.useContext)(f);if(void 0===n)throw new Error("useSettings must be used within a SettingsProvider");return n}var E=t(52),v=t(2),h=t(3),g=t(14),O=t.n(g),x=t(47),j=t.n(x)()();function y(){var n=Object(v.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  font-size: 1.5rem;\n  padding: 40px;\n  border: none;\n  color: #fff;\n  background: transparent;\n  &:focus {\n    outline: none;\n  }\n"]);return y=function(){return n},n}function R(){var n=Object(v.a)([""]);return R=function(){return n},n}function C(){var n=Object(v.a)(["\n  color: ",";\n  font-weight: bold;\n  margin-right: 13px;\n"]);return C=function(){return n},n}function S(){var n=Object(v.a)(["\n  margin-bottom: 7px;\n  line-height: 1.4;\n"]);return S=function(){return n},n}function k(){var n=Object(v.a)(["\n  overflow: hidden;\n  height: 100%;\n  ul {\n    list-style: none;\n    font-size: 1.3rem;\n  }\n"]);return k=function(){return n},n}function w(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n"]);return w=function(){return n},n}function _(){var n=Object(v.a)(["\n  padding: 40px;\n  font-size: 1.4rem;\n"]);return _=function(){return n},n}var T=h.b.div(_()),z=h.b.div(w()),U=h.b.div(k()),L=h.b.li(S()),A=h.b.span(C(),(function(n){return n.color})),M=h.b.span(R()),B=h.b.input(y());var I=function(){var n=p().state,e=Object(r.useState)(0),t=Object(l.a)(e,2),o=t[0],c=t[1],u=Object(r.useState)([]),s=Object(l.a)(u,2),f=s[0],m=s[1],b=Object(r.useState)(""),d=Object(l.a)(b,2),v=d[0],h=d[1];return Object(r.useEffect)((function(){return j.on("updateChatInfo",(function(n){var e=n.numUsers;c(e)})),j.on("message",(function(n){m([].concat(Object(E.a)(f),[n]))})),function(){j.emit("disconnect"),j.off()}}),[f]),""===n.username?a.a.createElement(i.a,{to:"/settings"}):a.a.createElement(O.a,{duration:1e3},a.a.createElement(T,null,a.a.createElement(z,null,a.a.createElement("div",null,o," online users"),a.a.createElement("div",null,"Logged in as ",n.username)),a.a.createElement(U,null,a.a.createElement("ul",null,f.map((function(n,e){return a.a.createElement(O.a,{duration:300,key:e},a.a.createElement(L,null,a.a.createElement(A,{color:n.userColor},n.username),a.a.createElement(M,null,n.text)))})))),a.a.createElement("form",{onSubmit:function(n){n.preventDefault(),""!==v&&j.emit("sendMessage",v,(function(){h("")}))}},a.a.createElement(B,{placeholder:"Enter a message...",onChange:function(n){h(n.target.value)},value:v}))))};function J(){var n=Object(v.a)(["\n  color: red;\n  margin-bottom: 15px;\n"]);return J=function(){return n},n}function N(){var n=Object(v.a)(["\n  border: 1px solid #ccc;\n  padding: 6px 10px 6px 10px;\n  cursor: pointer;\n  background-color: transparent;\n  color: #ccc;\n  border-radius: 3px;\n  font-size: inherit;\n  &:hover {\n    background-color: #fff;\n    color: #000;\n  }\n  &:active {\n    transform: translateY(4px);\n    transition: all 0.3s;\n  }\n"]);return N=function(){return n},n}function P(){var n=Object(v.a)(["\n  cursor: pointer;\n  width: 35px;\n  height: 35px;\n  margin: 4px;\n  border-radius: 3px;\n  background-color: ",";\n  border: ",";\n  outline: none;\n  &:hover {\n    filter: brightness(75%);\n    transition: filter 0.3s;\n  }\n"]);return P=function(){return n},n}function Y(){var n=Object(v.a)(["\n  list-style: none;\n  margin-top: 15px;\n  display: flex;\n"]);return Y=function(){return n},n}function D(){var n=Object(v.a)(["\n  border: none;\n  background-color: transparent;\n  border-bottom: 1px solid #fff;\n  color: #fff;\n  font-size: inherit;\n  text-align: center;\n  padding: 8px;\n  &:focus {\n    outline: none;\n  }\n  ::placeholder {\n    color: #ccc;\n  }\n"]);return D=function(){return n},n}function F(){var n=Object(v.a)(["\n  margin: 8px;\n  color: #ccc;\n"]);return F=function(){return n},n}function q(){var n=Object(v.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  font-size: 1.5rem;\n  div {\n    margin-bottom: 60px;\n  }\n"]);return q=function(){return n},n}var G=["#3b88eb","#ff4330","#f78b00","#58dc00","#ffea58","#4ae8c4","#3824aa","#d300e7"],H=h.b.div(q()),K=h.b.p(F()),Q=h.b.input(D()),V=h.b.ul(Y()),W=h.b.button(P(),(function(n){var e=n.color;return e||"blue"}),(function(n){return n.selected?"2px solid #fff":"none"})),X=h.b.button(N()),Z=h.b.p(J());var $=function(n){var e=n.history,t=p(),r=t.state,o=t.dispatch;return a.a.createElement(O.a,{duration:1200},a.a.createElement(H,null,a.a.createElement(Z,null,r.error),a.a.createElement("div",null,a.a.createElement(Q,{placeholder:"Enter username...",onFocus:function(n){return n.target.placeholder=""},onBlur:function(n){return n.target.placeholder="Enter username..."},onChange:function(n){return o({type:"SET_USERNAME",payload:n.target.value})},value:r.username})),a.a.createElement("div",null,a.a.createElement(K,null,"Choose your color:"),a.a.createElement(V,null,G.map((function(n){return a.a.createElement("li",{key:n},a.a.createElement(W,{selected:r.userColor===n,color:n,onClick:function(){return o({type:"SET_USER_COLOR",payload:n})}}))})))),a.a.createElement("div",null,a.a.createElement(X,{onClick:function(){if(""===r.username)return o({type:"SET_ERROR",payload:"You must set a username."}),void setTimeout((function(){return o({type:"CLEAR_ERROR"})}),5e3);var n={username:r.username,userColor:r.userColor};j.emit("addUserToChat",n),e.push("/chat")}},"Save"))))};function nn(){var n=Object(v.a)(["\n    * {\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n    }    \n    html, body {\n        background-color: #000;\n        font-family: 'Roboto', sans-serif;\n        color: #fff;\n        -webkit-font-smoothing: antialiased;\n    }   \n"]);return nn=function(){return n},n}var en=Object(h.a)(nn());var tn=function(){return a.a.createElement(d,null,a.a.createElement(en,null),a.a.createElement(u.a,null,a.a.createElement(i.b,{exact:!0,path:"/",component:function(){return a.a.createElement(i.a,{to:"/settings"})}}),a.a.createElement(i.b,{exact:!0,path:"/settings",component:$}),a.a.createElement(i.b,{exact:!0,path:"/chat",component:I})))};c.a.render(a.a.createElement(tn,null),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.882fb4e0.chunk.js.map